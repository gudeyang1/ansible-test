#localhost ansible_connection=local
[master]
{{if .Masters -}}{{- range .Masters }}
{{ . }} ansible_user=root ansible_ssh_pass=iso*help
{{- end}}{{- end}}

[nodes]
{{if .Workers -}}{{- range .Workers }}
{{ . }} ansible_user=root ansible_ssh_pass=iso*help
{{- end}}{{- end}}

# if revert_vm=true ,will revert vm to snapshot
[localhost]
controller  ansible_connection=local revert_vm={{ .DeepClean }}

[allnodes:children]
master
nodes

[master:vars]
is_master=true

[nodes:vars]
is_master=false

[allnodes:vars]
installer_tag={{ .DeployerImgTag }} 
depth={{.Depth}}
#generated by suitekit 
#activated_services={{if .Services}}{{range $i, $service := .Services }}{{if $i}},{{end}}{{$service}}{{end}}{{end}}
activated_services=[{{if .Services}}{{range $i, $service := .Services }}{{if $i}},{{end}}{"name": "{{$service.Name}}", "registry_url": "{{$service.RegistryUrl}}", "controller_img_tag": "{{$service.ControllerImgTag}}"}{{end}}{{end}}]


#thinpool  configuration, if add --thinpool true docker will use thinpool ,default is false
thinpool={{ .Thinpool }}

# registry
installer_registry={{ .Registry }}/itom-itsma-deployer

# default_registry_url of service team
default_registry_url=shc-harbor-dev.hpeswlab.net/itsma

# patch
patch={{ .Patch }}
service=[{{if .Services}}{{range $i, $service := .Services }}{{if $i}},{{end}}'{{$service.Name}}'{{end}}{{end}}]
new_tag=[{{if .Services}}{{range $i, $service := .Services }}{{if $i}},{{end}}'{{$service.ControllerImgTag}}'{{end}}{{end}}]


# mode
mode={{ .Mode }}

#NFS ip
nfs_ip={{if .Masters -}}{{- range .Masters }}{{ . }}{{- end}}{{- end}}

#suite_config_template_path
suite_config_template_path=/var/vols/itom/core/suite-install/itsma

#ItomSuiteSize
itom_suite_size={{.ItomSuiteSize}}

#automation test tag
automation_tag={{.AutomationTag}}


#backup suite service data
backup={{.BackupSuite}}
backup_package_dir="{{.BackupPackageDir}}"
backup_package_name={{.BackupPackageName}}

#install type

install_type={{.InstallType}}

#upgrade configuration
#upgrade_tag=170922
upgrade_tag={{.UpgradeImageTag}}
upgrade={{.Upgrade}}

#password of mng-portal https://master_fqdn:5443
#default pass
mng_portal_passwd={{.AdminPassword}}
#new password
cdf_admin_password=1Qaz2wsx
#download url of cdf
cdfDownloadUrl= {{.CdfUrl}}

#suite data image tag
SuiteDataImageTag={{.SuiteDataImageTag}}

#mix mode , default false
MixMode={{.MixMode}}

